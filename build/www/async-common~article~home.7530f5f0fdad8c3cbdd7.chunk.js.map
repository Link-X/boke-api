{"version":3,"sources":["webpack:///./src/hooks/scrollPage.ts","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/hooks/strShowTime.ts","webpack:///./src/hooks/useSetState.ts","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/hooks/useQuery.ts","webpack:///./src/hooks/useMount.ts","webpack:///./src/hooks/index.ts","webpack:///./src/hooks/useInterval.ts","webpack:///./src/common/header/index.tsx"],"names":["ref","max","useState","maxDom","indexRef","useRef","index","setIndex","upDom","type","count","num","current","style","transform","whellFunc","ev","e","window","event","wheelDelta","detail","useEffect","onmousewheel","document","addEventListener","undefined","removeEventListener","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","callbackfn","argumentsLength","memo","O","self","length","i","TypeError","module","exports","left","right","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","this","arguments","str","wait","split","strArr","setStrArr","showStr","setShowStr","strStatus","setStrStatus","strB","setStrB","classStr","timeId","setInterval","setTimeout","clearInterval","time","Loop","clearTimeout","shift","strPerform","initState","_state","_setState","useCallback","state","prevState","nextState","$reduce","arrayMethodIsStrict","STRICT_METHOD","1","reduce","search","query","slice","prev","item","keys","decodeURIComponent","err","console","log","fn","effect","callback","delay","savedCallback","interval","navList","label","value","url","props","checked","setChecked","goPage","v","router","history","push","className","opacity","key","onClick","bind","preventDefault"],"mappings":"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","file":"async-common~article~home.7530f5f0fdad8c3cbdd7.chunk.js","sourcesContent":["import { useState, useEffect, useRef } from 'react'\r\n\r\nconst ScrollPage = (ref: { current: HTMLDivElement }, max?: number): [number, HTMLDivElement] => {\r\n    const [maxDom] = useState<number>(max || 2)\r\n    const indexRef = useRef<number>(0)\r\n    const [index, setIndex] = useState<number>(false)\r\n\r\n    const upDom = (type: string) => {\r\n        /** 重写触发使用组件的render */\r\n\r\n        const count = type === 'up' ? -1 : 1\r\n        const num = (indexRef.current += count)\r\n        setIndex(num)\r\n        ref.current.style.transform = `translate3d(0px, -${num * 100}%,0px)`\r\n    }\r\n\r\n    const whellFunc = (ev: Event) => {\r\n        const e = ev || window.event\r\n        const index = indexRef.current\r\n        if ((e.wheelDelta === 120 || e.detail === -3) && index > 0) {\r\n            upDom('up')\r\n        } else if ((e.wheelDelta === -120 || e.detail === 3) && index < maxDom - 1) {\r\n            upDom('down')\r\n        }\r\n    }\r\n\r\n    const scrollPage = () => {\r\n        window.onmousewheel = whellFunc\r\n        document.addEventListener('DOMMouseScroll', whellFunc, false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollPage()\r\n        return () => {\r\n            window.onmousewheel = undefined\r\n            document.removeEventListener('DOMMouseScroll', whellFunc)\r\n        }\r\n    }, [])\r\n    return [index, ref.current]\r\n}\r\n\r\nexport default ScrollPage\r\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","/* eslint-disable */\r\nimport { useState, useEffect } from 'react'\r\n\r\ninterface strSHowTimeData {\r\n    showStr: string\r\n    strStatus: string\r\n    strB: string\r\n}\r\n\r\nconst strShowTime = (\r\n    str: string,\r\n    wait: number\r\n): [strSHowTimeData, React.Dispatch<React.SetStateAction<string[]>>] => {\r\n    const [strArr, setStrArr] = useState<string[]>(str.split(''))\r\n    const [showStr, setShowStr] = useState<string>('')\r\n    const [strStatus, setStrStatus] = useState<string>('start')\r\n    const [strB, setStrB] = useState<string>('')\r\n\r\n    const strClassTran = () => {\r\n        let classStr = ''\r\n        const timeId = setInterval(() => {\r\n            setStrB((classStr = classStr ? '' : 'tip-opacity'))\r\n        }, 500)\r\n        return timeId\r\n    }\r\n\r\n    const strPerform = () => {\r\n        let time = 300\r\n        let timeId: any = null\r\n\r\n        /** 这里showStr 永远都是'' 我们缓存一个变量来保存它 */\r\n        let str = showStr\r\n        return function Loop() {\r\n            timeId && clearTimeout(timeId)\r\n            if (!strArr.length) {\r\n                setStrStatus('end')\r\n                setStrB('tip-opacity')\r\n                return\r\n            }\r\n            timeId = setTimeout(() => {\r\n                setShowStr((str += strArr.shift()))\r\n                Loop()\r\n            }, (time -= 4))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const timeId = strClassTran()\r\n        setTimeout(() => {\r\n            clearInterval(timeId)\r\n            setShowStr('')\r\n            setStrB('')\r\n            const Loop = strPerform()\r\n            Loop()\r\n        }, wait || 0)\r\n    }, [str])\r\n\r\n    return [{ showStr, strStatus, strB }, setStrArr]\r\n}\r\n\r\nexport default strShowTime\r\n","import { useState, useCallback } from 'react'\r\n\r\nconst useSetState = <S extends object>(\r\n    initState: S | (() => S)\r\n): [S, (state: Partial<S> | ((state: S) => Partial<S>)) => void] => {\r\n    const [_state, _setState] = useState<S>(initState)\r\n\r\n    const updateState = useCallback((state: Partial<S> | ((state: S) => Partial<S>)) => {\r\n        _setState((prevState: S) => {\r\n            let nextState = state\r\n            if (typeof state === 'function') {\r\n                nextState = state(prevState)\r\n            }\r\n            return {\r\n                ...prevState,\r\n                ...nextState\r\n            }\r\n        })\r\n    }, [])\r\n    return [_state, updateState]\r\n}\r\n\r\n// function abc<T, U>(abc: T, bce: U): T & U {\r\n//   const result = <T & U>{}\r\n//   return result\r\n// }\r\n\r\nexport default useSetState\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","/* eslint-disable */\r\n\r\nimport React from 'React'\r\ninterface Query {\r\n    [key: string]: string\r\n}\r\n\r\n// 获取参数\r\nconst useQuery = <T>(search: string): T => {\r\n    let query: T = {} as T\r\n    if (!search) {\r\n        return {} as T\r\n    }\r\n    try {\r\n        query = search\r\n            .slice(1)\r\n            .split('&')\r\n            .reduce((prev: any, item) => {\r\n                const keys = item.split('=')\r\n                const key = keys[0]\r\n                prev[key] = window.decodeURIComponent(keys[1])\r\n                return prev\r\n            }, {})\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n    return query\r\n}\r\n\r\nexport default useQuery\r\n","import { useEffect, EffectCallback } from 'react'\r\n\r\nconst useEffectOnce = (effect: EffectCallback): void => {\r\n    useEffect(effect, [])\r\n}\r\n\r\nconst useMount = (fn: () => void): void => {\r\n    useEffectOnce(() => {\r\n        fn()\r\n    })\r\n}\r\n\r\nexport default useMount\r\n","export { default as useInterval } from './useInterval'\r\nexport { default as useMount } from './useMount'\r\nexport { default as useSetState } from './useSetState'\r\nexport { default as useQuery } from './useQuery'\r\nexport { default as strShowTime } from './strShowTime'\r\nexport { default as ScrollPage } from './scrollPage'\r\n","import { useEffect, useRef } from 'react'\r\n\r\nconst useInterval = (callback: Function, delay?: number | null): void => {\r\n    const savedCallback = useRef<Function>((): void => {})\r\n\r\n    useEffect(() => {\r\n        savedCallback.current = callback\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (delay !== null) {\r\n            const interval = setInterval(() => savedCallback.current(), delay || 0)\r\n            return () => clearInterval(interval)\r\n        }\r\n\r\n        return undefined\r\n    }, [delay])\r\n}\r\n\r\nexport default useInterval\r\n","import React, { useState } from 'react'\r\n\r\nimport { propsRoute } from '@/typescript/global'\r\n\r\nimport './index.less'\r\n\r\ninterface navItmeType {\r\n    label: string\r\n    value: number\r\n    url: string\r\n}\r\nconst navList: navItmeType[] = [\r\n    {\r\n        label: '首页',\r\n        value: 1,\r\n        url: '/'\r\n    },\r\n    {\r\n        label: '文章',\r\n        value: 2,\r\n        url: '/article'\r\n    },\r\n    {\r\n        label: '写文章',\r\n        value: 3,\r\n        url: '/edit-article'\r\n    },\r\n    {\r\n        label: '资料',\r\n        value: 6,\r\n        url: '/datum'\r\n    }\r\n]\r\n\r\ninterface Iprops {\r\n    router: propsRoute\r\n    className: string\r\n}\r\n\r\nconst Header: React.FC<Iprops> = (props: Iprops): JSX.Element => {\r\n    const [checked, setChecked] = useState<boolean>(false)\r\n\r\n    const goPage = (v: navItmeType) => {\r\n        props.router.history.push(v.url)\r\n    }\r\n    return (\r\n        <nav className={`xdb-home_header ${props.className}`}>\r\n            <div className=\"home-header_concent\">\r\n                <h2 className=\"home-header_login\">xdb</h2>\r\n                <div className=\"header-nav-collapse\">\r\n                    <ul className=\"nav-collapse_ul\" style={{ opacity: checked ? 0 : 1 }}>\r\n                        {navList.map((v) => {\r\n                            return (\r\n                                <li key={v.url} onClick={goPage.bind(this, v)}>\r\n                                    <a\r\n                                        onClick={(e) => {\r\n                                            e.preventDefault()\r\n                                        }}\r\n                                    >\r\n                                        {v.label}\r\n                                    </a>\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n                <div\r\n                    className=\"navBtn\"\r\n                    onClick={() => {\r\n                        setChecked(!checked)\r\n                    }}\r\n                >\r\n                    <button className={`toggle-btn ${checked ? 'active' : ''}`}>\r\n                        <span className=\"icon-bar\"></span>\r\n                        <span className=\"icon-bar\"></span>\r\n                        <span className=\"icon-bar\"></span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Header\r\n"],"sourceRoot":""}